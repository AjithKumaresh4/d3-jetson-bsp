#ifndef _D3_JETSON_BSP_H_IN
#define _D3_JETSON_BSP_H_IN

/* This file is processed by autoconf. */

#define D3_JETSON_BSP_VERSION_MAJOR @D3_JETSON_BSP_MAJOR@
#define D3_JETSON_BSP_VERSION_MINOR @D3_JETSON_BSP_MINOR@
#define D3_JETSON_BSP_VERSION_PATCH @D3_JETSON_BSP_PATCH@

#define D3_JETSON_BSP_VERSION "@D3_JETSON_BSP_VERSION@"

/**
 * If @p expr evalutes to non-zero assign it to @p err and return @p err
 */
#define TRY(err, expr) do { \
		err = expr; \
		if (err) { \
			return (err); \
		} \
	} while (false)

#define TRY_MUTEX(mutex, err, expr) do { \
		err = expr; \
		if (err) { \
			mutex_unlock(mutex); \
			return (err); \
		} \
	} while (false)

#define TRY_MEM(mem, expr) do { \
		mem = expr; \
		if (IS_ERR(mem)) \
			return PTR_ERR(mem); \
	} while (false)

#endif
